(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[334],{4426:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/faltantes",function(){return r(6155)}])},7207:function(e,t,r){"use strict";var n=r(5893),s=r(7294),o=r(9008),a=r(1664),l=r.n(a),c=r(5675),i=r.n(c),d=r(1163),u=r(1146),x=r(7581);t.Z=function(e){var t=e.children,r=e.pagina,a=(0,s.useContext)(u.Z),c=a.usuario,f=a.cerrarSesion,h=a.token,m=a.traerTema,g=(0,s.useContext)(x.Z),b=g.limpiarSeleccionado,p=g.limpiarApp,j=(0,s.useState)(!1),v=j[0],N=j[1],k=(0,s.useState)(!1),w=k[0],y=k[1],C=(0,d.useRouter)(),E=C.route;(0,s.useEffect)((function(){h||C.push("/")}),[h]),(0,s.useEffect)((function(){var e,t=null!==(e=JSON.parse(localStorage.getItem("Modo oscuro")))&&void 0!==e&&e;N(t)}),[]),(0,s.useEffect)((function(){localStorage.setItem("Modo oscuro",JSON.stringify(v)),m(v)}),[v]);return(0,n.jsxs)("div",{className:"min-h-screen",children:[(0,n.jsx)(o.default,{children:(0,n.jsxs)("title",{children:["Inventario - ",r]})}),(0,n.jsxs)("div",{className:"lg:flex md:min-h-screen sm:min-h-screen bg-gray-100 ".concat(v&&"dark"),children:[(0,n.jsxs)("div",{className:"lg:w-1/5 bg-blue-900 dark:bg-gray-900 flex flex-col justify-between lg:justify-start ",children:[(0,n.jsxs)("div",{className:"flex justify-between mt-1 px-5",children:[(0,n.jsxs)("p",{className:"text-white text-2xl md:text-4xl font-black text-center",children:["Hola, ",c?(0,n.jsx)("span",{children:c.nombre}):null]}),(0,n.jsx)(i(),{src:"/settings-claro.svg",alt:"Settings",width:30,height:30,priority:!0,className:"cursor-pointer",onClick:function(){y(!w)}})]}),w?(0,n.jsxs)("div",{className:"flex flex-col mt-2 ml-5 py-2",children:[(0,n.jsx)("button",{onClick:function(){N(!v)},className:"text-white text-left py-2 hover:text-blue-300 hover:translate-x-3",children:v?"Tema claro":"Tema oscuro"}),(0,n.jsx)("button",{onClick:function(){f(),p()},className:"text-white text-left py-2 hover:text-blue-300 hover:translate-x-3",children:"Cerrar sesi\xf3n"})]}):null,(0,n.jsxs)("nav",{className:"grid grid-cols-3 lg:px-5 mt-4 sm:mt-10 lg:flex lg:flex-col lg:justify-start h-5/6",children:[(0,n.jsx)(l(),{href:"/productos",children:(0,n.jsx)("a",{className:"".concat("/productos"===E?"lg:bg-blue-300 lg:border-none border-b-gray-300 border-b-2 lg:bg-opacity-10 lg:rounded-md  text-white":"text-white","  text-sm text-center lg:text-left sm:text-2xl block p-2 mt-2 hover:text-blue-300"),children:"Productos"})}),(0,n.jsx)(l(),{href:"/nuevoproducto",children:(0,n.jsx)("a",{onClick:function(){return b()},className:"".concat("/nuevoproducto"===E?"lg:bg-blue-300 lg:border-none border-b-gray-300 border-b-2 lg:bg-opacity-10 lg:rounded-md  text-white":"text-white"," text-sm text-center lg:text-left sm:text-2xl block p-2 mt-2 hover:text-blue-300"),children:"Nuevo Producto"})}),(0,n.jsx)(l(),{href:"/faltantes",children:(0,n.jsx)("a",{onClick:function(){return b()},className:"".concat("/faltantes"===E?"lg:bg-blue-300 lg:border-none border-b-gray-300 border-b-2 lg:bg-opacity-10 lg:rounded-md  text-white":"text-white"," text-sm text-center lg:text-left sm:text-2xl block p-2 mt-2 hover:text-blue-300"),children:"Faltantes"})}),(0,n.jsx)(l(),{href:"/compras",children:(0,n.jsx)("a",{onClick:function(){return b()},className:"".concat("/compras"===E?"lg:bg-blue-300 lg:border-none border-b-gray-300 border-b-2 lg:bg-opacity-10 lg:rounded-md  text-white":"text-white"," text-sm text-center lg:text-left sm:text-2xl block p-2 mt-2 hover:text-blue-300"),children:"Compras"})})]})]}),(0,n.jsx)("div",{className:" lg:w-4/5 lg:p-10 h-screen dark:bg-gray-800 overflow-x-auto ",children:t})]})]})}},6155:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var n=r(5893),s=r(7294),o=r(4051),a=r.n(o),l=r(1664),c=r.n(l),i=r(7581),d=r(349),u=r(1146),x=r(6455),f=r.n(x);function h(e,t,r,n,s,o,a){try{var l=e[o](a),c=l.value}catch(i){return void r(i)}l.done?t(c):Promise.resolve(c).then(n,s)}var m=function(e){var t=e.producto,r=t.nombre,o=t.marca,l=t.codigo,x=t.disponibles,m=t.modelo,g=t.rubro,b=t._id,p=t.faltante,j=t.proveedor,v=(0,s.useContext)(u.Z).modo,N=(0,s.useContext)(i.Z).productoActual,k=(0,s.useContext)(d.Z).eliminarFaltante,w=f().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3}),y=function(){var e,t=(e=a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(b);case 2:w.fire({icon:"error",title:"Quitado de faltantes",color:"".concat(v?"white":"#545454"),background:"".concat(v?"#505050":"white")});case 3:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,s){var o=e.apply(t,r);function a(e){h(o,n,s,a,l,"next",e)}function l(e){h(o,n,s,a,l,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,n.jsxs)("tr",{className:"border-b dark:border-b-gray-800 dark:last:border-none hover:bg-gray-50 hover:cursor-pointer active:bg-gray-100 dark:active:bg-gray-800 dark:hover:bg-gray-700",children:[(0,n.jsx)("td",{className:"p-3 dark:text-gray-50 text-center font-semibold",children:l}),(0,n.jsx)("td",{className:"dark:text-gray-50 p-3",children:r}),(0,n.jsx)("td",{className:"p-3 dark:text-gray-50 text-center",children:o}),(0,n.jsx)("td",{className:"p-3 dark:text-gray-50 text-center",children:m}),(0,n.jsx)("td",{className:"p-3 dark:text-gray-50 text-center",children:g}),(0,n.jsx)("td",{className:"p-3 dark:text-gray-50 text-center",children:j}),(0,n.jsx)("td",{className:"p-3 dark:text-gray-50 text-center uppercase",children:x&&p?(0,n.jsx)("span",{className:"font-bold text-red-600 p-1",children:x}):x&&!p?x:(0,n.jsx)("span",{className:"font-black text-white bg-red-600 p-1 uppercase",children:"Sin stock"})}),(0,n.jsxs)("td",{className:"p-3 w-40 mt-2 ",children:[(0,n.jsx)(c(),{passHref:!0,href:"/producto/".concat(b),children:(0,n.jsx)("button",{type:"button",className:"bg-blue-600 hover:bg-blue-900 mb-2 w-full text-white p-2 uppercase font-bold text-xs mr-3 rounded-md",onClick:function(){return N(t)},children:"Detalles"})}),(0,n.jsx)(c(),{passHref:!0,href:"",children:(0,n.jsx)("button",{type:"button",className:"bg-red-600 hover:bg-red-900 mb-2 w-full text-white p-2 uppercase font-bold text-xs mr-3 rounded-md",onClick:y,children:"Quitar de faltantes"})})]})]})},g=r(5675),b=r.n(g),p=function(){var e=(0,s.useContext)(u.Z),t=e.modo,r=e.usuarioAutenticado,o=(0,s.useContext)(d.Z),a=o.faltantes,l=o.traerFaltantes,c=o.filtroFaltante,i=o.filtrados,x=o.orderCodigo,f=o.orderCodigoFiltrados,h=o.orderNombre,g=o.orderNombreFiltrados,p=o.orderMarca,j=o.orderMarcaFiltrados,v=o.orderModelo,N=o.orderModeloFiltrados,k=o.orderRubro,w=o.orderRubroFiltrados,y=o.orderProveedor,C=o.orderProveedorFiltrados,E=o.orderDisponibles,S=o.orderDisponiblesFiltrados,F=(0,s.useState)(""),_=F[0],O=F[1],P=(0,s.useState)(!1),M=P[0],R=P[1],Z=(0,s.useState)(!1),D=Z[0],I=Z[1],A=(0,s.useState)(!1),B=A[0],T=A[1],L=(0,s.useState)(!1),H=L[0],J=L[1],Q=(0,s.useState)(!1),X=Q[0],z=Q[1],G=(0,s.useState)(!1),U=G[0],V=G[1],q=(0,s.useState)(!1),K=q[0],W=q[1],Y=(0,s.useState)(!1),$=Y[0],ee=Y[1],te=(0,s.useState)(!1),re=te[0],ne=te[1];(0,s.useEffect)((function(){r()}),[]),(0,s.useEffect)((function(){l()}),[]),(0,s.useEffect)((function(){_&&f(B),x(B)}),[B]),(0,s.useEffect)((function(){_&&g(H),h(H)}),[H]),(0,s.useEffect)((function(){_&&j(X),p(X)}),[X]),(0,s.useEffect)((function(){_&&N(U),v(U)}),[U]),(0,s.useEffect)((function(){_&&w(K),k(K)}),[K]),(0,s.useEffect)((function(){_&&C($),y($)}),[$]),(0,s.useEffect)((function(){_&&S(re),E(re)}),[re]),(0,s.useEffect)((function(){R(!!_)}),[_]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"absolute lg:relative min-w-full m-0",children:[(0,n.jsx)("h1",{className:"font-black dark:text-red-500 text-3xl sm:text-4xl text-red-500 text-center mt-2 sm:mt-0 mb-4 ",children:"Listado de faltantes"}),(0,n.jsx)("div",{className:"flex flex-col-reverse sm:flex-row justify-between ",children:(0,n.jsxs)("div",{className:"".concat(D&&"ring-2"," relative my-auto p-2 w-full sm:w-2/6 xl:w-2/6 shadow dark:bg-gray-900 focus:outline-none focus:ring focus:border-blue-300 dark:text-gray-50 bg-white rounded-md md:rounded-lg"),children:[(0,n.jsx)("input",{type:"text",className:"w-10/12 xl:w-11/12 p-2 focus:outline-none dark:bg-transparent",placeholder:"Buscar alg\xfan faltante",onChange:function(e){O(e.target.value),c(e.target.value.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))},value:_,onFocus:function(){return I(!0)},onBlur:function(){return I(!1)}}),(0,n.jsx)("div",{className:"absolute mr-2 -inset-y-1 flex right-0 opacity-40",children:(0,n.jsx)(b(),{src:"".concat(t&&M?"/close_dark.svg":!t&&M?"/close_light.svg":t&&!M?"/search_light.svg":"/search_dark.svg"),alt:"Cerrar",width:30,height:30,priority:!0,className:"cursor-pointer",onClick:M?function(){return O("")}:null})})]})})]}),(0,n.jsxs)("table",{className:"relative top-44 sm:top-44 lg:top-0 w-full mt-5 table-auto shadow rounded-lg dark:bg-gray-900 bg-white ",children:[(0,n.jsx)("thead",{className:"bg-red-600 text-white",children:(0,n.jsxs)("tr",{className:"hover:cursor-pointer select-none",children:[(0,n.jsx)("th",{onClick:function(){T(!B)},className:"p-2 rounded-tl-lg",children:"CODIGO"}),(0,n.jsx)("th",{onClick:function(){J(!H)},children:"NOMBRE"}),(0,n.jsx)("th",{onClick:function(){z(!X)},children:"MARCA"}),(0,n.jsx)("th",{onClick:function(){V(!U)},children:"MODELO"}),(0,n.jsx)("th",{onClick:function(){W(!K)},children:"RUBRO"}),(0,n.jsx)("th",{onClick:function(){ee(!$)},children:"PROVEEDOR"}),(0,n.jsx)("th",{onClick:function(){ne(!re)},children:"DISPONIBLES"}),(0,n.jsx)("th",{className:"rounded-tr-lg",children:"ACCIONES"})]})}),(0,n.jsx)("tbody",{children:0===Object.keys(i).length&&M?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("tr",{className:"relative p-3 text-2xl dark:text-gray-50",children:(0,n.jsx)("td",{children:"No hay resultados"})})}):Object.keys(i).length>0&&M?(0,n.jsx)(n.Fragment,{children:i.map((function(e){return(0,n.jsx)(m,{producto:e},e._id)}))}):(0,n.jsx)(n.Fragment,{children:a.map((function(e){return(0,n.jsx)(m,{producto:e},e._id)}))})})]})]})},j=r(7207),v=function(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(j.Z,{pagina:"Faltantes",children:(0,n.jsx)(p,{})})})}}},function(e){e.O(0,[675,455,774,888,179],(function(){return t=4426,e(e.s=t);var t}));var t=e.O();_N_E=t}]);