(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[611],{24:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/compras",function(){return r(4185)}])},7207:function(e,t,r){"use strict";var n=r(5893),l=r(7294),s=r(9008),a=r(1664),c=r.n(a),o=r(5675),i=r.n(o),d=r(1163),u=r(1146),x=r(7581);t.Z=function(e){var t=e.children,r=e.pagina,a=(0,l.useContext)(u.Z),o=a.usuario,h=a.cerrarSesion,m=a.token,g=a.traerTema,f=(0,l.useContext)(x.Z),b=f.limpiarSeleccionado,p=f.limpiarApp,j=(0,l.useState)(!1),v=j[0],N=j[1],y=(0,l.useState)(!1),k=y[0],w=y[1],C=(0,d.useRouter)(),_=C.route;(0,l.useEffect)((function(){m||C.push("/")}),[m]),(0,l.useEffect)((function(){var e,t=null!==(e=JSON.parse(localStorage.getItem("Modo oscuro")))&&void 0!==e&&e;N(t)}),[]),(0,l.useEffect)((function(){localStorage.setItem("Modo oscuro",JSON.stringify(v)),g(v)}),[v]);return(0,n.jsxs)("div",{className:"min-h-screen",children:[(0,n.jsx)(s.default,{children:(0,n.jsxs)("title",{children:["Inventario - ",r]})}),(0,n.jsxs)("div",{className:"lg:flex md:min-h-screen sm:min-h-screen bg-gray-100 ".concat(v&&"dark"),children:[(0,n.jsxs)("div",{className:"lg:w-1/5 bg-blue-900 dark:bg-gray-900 flex flex-col justify-between lg:justify-start ",children:[(0,n.jsxs)("div",{className:"flex justify-between mt-1 px-5",children:[(0,n.jsxs)("p",{className:"text-white text-2xl md:text-4xl font-black text-center",children:["Hola, ",o?(0,n.jsx)("span",{children:o.nombre}):null]}),(0,n.jsx)(i(),{src:"/settings-claro.svg",alt:"Settings",width:30,height:30,priority:!0,className:"cursor-pointer",onClick:function(){w(!k)}})]}),k?(0,n.jsxs)("div",{className:"flex flex-col mt-2 ml-5 py-2",children:[(0,n.jsx)("button",{onClick:function(){N(!v)},className:"text-white text-left py-2 hover:text-blue-300 hover:translate-x-3",children:v?"Tema claro":"Tema oscuro"}),(0,n.jsx)("button",{onClick:function(){h(),p()},className:"text-white text-left py-2 hover:text-blue-300 hover:translate-x-3",children:"Cerrar sesi\xf3n"})]}):null,(0,n.jsxs)("nav",{className:"grid grid-cols-3 lg:px-5 mt-4 sm:mt-10 lg:flex lg:flex-col lg:justify-start h-5/6",children:[(0,n.jsx)(c(),{href:"/productos",children:(0,n.jsx)("a",{className:"".concat("/productos"===_?"lg:bg-blue-300 lg:border-none border-b-gray-300 border-b-2 lg:bg-opacity-10 lg:rounded-md  text-white":"text-white","  text-sm text-center lg:text-left sm:text-2xl block p-2 mt-2 hover:text-blue-300"),children:"Productos"})}),(0,n.jsx)(c(),{href:"/nuevoproducto",children:(0,n.jsx)("a",{onClick:function(){return b()},className:"".concat("/nuevoproducto"===_?"lg:bg-blue-300 lg:border-none border-b-gray-300 border-b-2 lg:bg-opacity-10 lg:rounded-md  text-white":"text-white"," text-sm text-center lg:text-left sm:text-2xl block p-2 mt-2 hover:text-blue-300"),children:"Nuevo Producto"})}),(0,n.jsx)(c(),{href:"/faltantes",children:(0,n.jsx)("a",{onClick:function(){return b()},className:"".concat("/faltantes"===_?"lg:bg-blue-300 lg:border-none border-b-gray-300 border-b-2 lg:bg-opacity-10 lg:rounded-md  text-white":"text-white"," text-sm text-center lg:text-left sm:text-2xl block p-2 mt-2 hover:text-blue-300"),children:"Faltantes"})}),(0,n.jsx)(c(),{href:"/compras",children:(0,n.jsx)("a",{onClick:function(){return b()},className:"".concat("/compras"===_?"lg:bg-blue-300 lg:border-none border-b-gray-300 border-b-2 lg:bg-opacity-10 lg:rounded-md  text-white":"text-white"," text-sm text-center lg:text-left sm:text-2xl block p-2 mt-2 hover:text-blue-300"),children:"Compras"})})]})]}),(0,n.jsx)("div",{className:" lg:w-4/5 lg:p-10 h-screen dark:bg-gray-800 overflow-x-auto ",children:t})]})]})}},463:function(e,t,r){"use strict";r.d(t,{Ns:function(){return l},qU:function(){return n}});var n=function(e){return new Date(e+"T00:00:00").toLocaleString("es-AR",{year:"numeric",month:"numeric",day:"2-digit"})},l=new Date(Date.now()).toISOString().slice(0,10)},4185:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var n=r(5893),l=r(7207),s=r(7294),a=(r(1664),r(9112)),c=r(463),o=function(e){var t=e.producto,r=t.nombre,l=t.marca,a=t.modelo,o=t.historial,i=(0,s.useState)(!1),d=i[0],u=i[1];return(0,n.jsxs)("tr",{className:"".concat(!d&&"font-semibold"," border-b dark:border-b-gray-800 dark:last:border-none  hover:bg-gray-50 hover:cursor-pointer active:bg-gray-100 dark:active:bg-gray-800 dark:hover:bg-gray-700"),onClick:function(){return u(!d)},children:[(0,n.jsx)("td",{className:"p-3 dark:text-gray-50 text-center",children:r}),(0,n.jsx)("td",{className:"p-3 dark:text-gray-50 text-center",children:l||"-"}),(0,n.jsx)("td",{className:"p-3 dark:text-gray-50 text-center",children:a||"-"}),(0,n.jsx)("td",{className:"p-3 dark:text-gray-50 text-center",children:(0,n.jsx)("ul",{children:d?o.map((function(e,t){return(0,n.jsx)("li",{children:e.cantidad?e.cantidad:"-"},t)})):"+"})}),(0,n.jsx)("td",{className:"p-3 dark:text-gray-50 text-center",children:(0,n.jsx)("ul",{children:d?o.map((function(e,t){return(0,n.jsx)("li",{children:e.fecha_compra?(0,c.qU)(e.fecha_compra):"-"},t)})):"+"})}),(0,n.jsx)("td",{className:"p-3 dark:text-gray-50 text-center",children:(0,n.jsx)("ul",{children:d?o.map((function(e,t){return(0,n.jsx)("li",{children:e.proveedor?e.proveedor:"-"},t)})):"+"})}),(0,n.jsx)("td",{className:"p-3 dark:text-gray-50 text-center",children:(0,n.jsx)("ul",{children:d?o.map((function(e,t){return(0,n.jsx)("li",{children:e.valor_dolar_compra?e.valor_dolar_compra:"-"},t)})):"+"})}),(0,n.jsx)("td",{className:"p-3 dark:text-gray-50 text-center",children:(0,n.jsx)("ul",{children:d?o.map((function(e,t){return(0,n.jsx)("li",{children:e.precio_compra_dolar?e.precio_compra_dolar:"-"},t)})):"+"})})]})},i=r(1146),d=r(5675),u=r.n(d),x=function(){var e=(0,s.useContext)(i.Z),t=e.modo,r=e.usuarioAutenticado,l=(0,s.useContext)(a.Z),c=l.compras,d=l.traerCompras,x=l.filtroCompra,h=l.filtrados,m=l.orderNombre,g=l.orderNombreFiltrados,f=l.orderMarca,b=l.orderMarcaFiltrados,p=l.orderModelo,j=l.orderModeloFiltrados,v=(0,s.useState)(""),N=v[0],y=v[1],k=(0,s.useState)(!1),w=k[0],C=k[1],_=(0,s.useState)(!1),E=_[0],S=_[1],O=(0,s.useState)(!1),D=O[0],A=O[1],F=(0,s.useState)(!1),M=F[0],R=F[1],L=(0,s.useState)(!1),P=L[0],T=L[1],I=(0,s.useState)(!1);I[0],I[1];(0,s.useEffect)((function(){r()}),[]),(0,s.useEffect)((function(){d()}),[]),(0,s.useEffect)((function(){N&&g(D),m(D)}),[D]),(0,s.useEffect)((function(){N&&b(M),f(M)}),[M]),(0,s.useEffect)((function(){N&&j(P),p(P)}),[P]),(0,s.useEffect)((function(){C(!!N)}),[N]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"absolute lg:relative min-w-full m-0",children:[(0,n.jsx)("h1",{className:"font-black dark:text-yellow-500 text-3xl sm:text-4xl text-yellow-500 text-center mt-2 sm:mt-0 mb-4 ",children:"Listado de compras"}),(0,n.jsx)("div",{className:"flex flex-col-reverse sm:flex-row justify-between ",children:(0,n.jsxs)("div",{className:"".concat(E&&"ring-2"," relative my-auto p-2 w-full sm:w-2/6 xl:w-2/6 shadow dark:bg-gray-900 focus:outline-none focus:ring focus:border-blue-300 dark:text-gray-50 bg-white rounded-md md:rounded-lg"),children:[(0,n.jsx)("input",{type:"text",className:"w-10/12 xl:w-11/12 p-2 focus:outline-none dark:bg-transparent",placeholder:"Consulta el historial",onChange:function(e){y(e.target.value),x(e.target.value.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))},value:N,onFocus:function(){return S(!0)},onBlur:function(){return S(!1)}}),(0,n.jsx)("div",{className:"absolute mr-2 -inset-y-1 flex right-0 opacity-40",children:(0,n.jsx)(u(),{src:"".concat(t&&w?"/close_dark.svg":!t&&w?"/close_light.svg":t&&!w?"/search_light.svg":"/search_dark.svg"),alt:"Cerrar",width:30,height:30,priority:!0,className:"cursor-pointer",onClick:w?function(){return y("")}:null})})]})})]}),(0,n.jsxs)("table",{className:"relative top-44 sm:top-44 lg:top-0 w-full mt-5 table-auto shadow rounded-lg dark:bg-gray-900 bg-white ",children:[(0,n.jsx)("thead",{className:"bg-yellow-500 text-white",children:(0,n.jsxs)("tr",{className:"hover:cursor-pointer select-none",children:[(0,n.jsx)("th",{onClick:function(){A(!D)},className:"p-2 rounded-tl-lg",children:"NOMBRE"}),(0,n.jsx)("th",{onClick:function(){R(!M)},children:"MARCA"}),(0,n.jsx)("th",{onClick:function(){T(!P)},children:"MODELO"}),(0,n.jsx)("th",{children:"CANTIDAD"}),(0,n.jsx)("th",{children:"FECHA DE COMPRA"}),(0,n.jsx)("th",{children:"PROVEEDOR"}),(0,n.jsx)("th",{children:"VALOR DEL DOLAR"}),(0,n.jsx)("th",{className:"rounded-tr-lg",children:"PRECIO EN USD"})]})}),(0,n.jsx)("tbody",{children:0===Object.keys(h).length&&w?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("tr",{className:"relative p-3 text-2xl dark:text-gray-50",children:(0,n.jsx)("td",{children:"No hay resultados"})})}):Object.keys(h).length>0&&w?(0,n.jsx)(n.Fragment,{children:h.map((function(e){return(0,n.jsx)(o,{producto:e},e._id)}))}):(0,n.jsx)(n.Fragment,{children:c.map((function(e){return(0,n.jsx)(o,{producto:e},e._id)}))})})]})]})},h=function(){return(0,n.jsx)(l.Z,{children:(0,n.jsx)(x,{})})}}},function(e){e.O(0,[675,774,888,179],(function(){return t=24,e(e.s=t);var t}));var t=e.O();_N_E=t}]);